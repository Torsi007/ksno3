<?xml version='1.0' encoding='UTF-8'?>

<!-- =========== FULL CONFIGURATION FILE ================================== -->

<faces-config version="1.2" 
    xmlns="http://java.sun.com/xml/ns/javaee" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd">
    <application>
        <resource-bundle>
            <base-name>application</base-name>
            <var>prop</var>
        </resource-bundle>            
    </application>
    <lifecycle>
        <phase-listener>ksno.util.KSNOPhaseListener</phase-listener>
    </lifecycle>
   <!-- ******** DAO ****************************************************** -->
   <managed-bean>
        <managed-bean-name>ArticleDao</managed-bean-name>
        <managed-bean-class>ksno.dao.hibernate.ArticleDaoImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>      
   <managed-bean>
        <managed-bean-name>EventDao</managed-bean-name>
        <managed-bean-class>ksno.dao.hibernate.EventDaoImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>   
   <managed-bean>
        <managed-bean-name>ImageDao</managed-bean-name>
        <managed-bean-class>ksno.dao.hibernate.ImageDaoImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>   
   <managed-bean>
        <managed-bean-name>PersonDao</managed-bean-name>
        <managed-bean-class>ksno.dao.hibernate.PersonDaoImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>    
   <managed-bean>
        <managed-bean-name>ParticipationDao</managed-bean-name>
        <managed-bean-class>ksno.dao.hibernate.ParticipationDaoImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
    </managed-bean>    
   <!-- ******** Service *************************************************** -->
   <managed-bean>
        <managed-bean-name>ArticleService</managed-bean-name>
        <managed-bean-class>ksno.service.ArticleServiceImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
        <managed-property>
            <property-name>articleDao</property-name>
            <value>#{ArticleDao}</value>
        </managed-property>        
    </managed-bean>    
   <managed-bean>
        <managed-bean-name>EventService</managed-bean-name>
        <managed-bean-class>ksno.service.EventServiceImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
        <managed-property>
            <property-name>eventDao</property-name>
            <value>#{EventDao}</value>
        </managed-property>        
    </managed-bean>   
   <managed-bean>
        <managed-bean-name>ImageService</managed-bean-name>
        <managed-bean-class>ksno.service.ImageServiceImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
        <managed-property>
            <property-name>imageDao</property-name>
            <value>#{ImageDao}</value>
        </managed-property>        
    </managed-bean>       
   <managed-bean>
        <managed-bean-name>PersonService</managed-bean-name>
        <managed-bean-class>ksno.service.PersonServiceImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
        <managed-property>
            <property-name>personDao</property-name>
            <value>#{PersonDao}</value>
        </managed-property>        
    </managed-bean>    
   <managed-bean>
        <managed-bean-name>ParticipationService</managed-bean-name>
        <managed-bean-class>ksno.service.ParticipationServiceImpl</managed-bean-class>
        <managed-bean-scope>none</managed-bean-scope>
        <managed-property>
            <property-name>participationDao</property-name>
            <value>#{ParticipationDao}</value>
        </managed-property>        
    </managed-bean>      
   <!-- ******** UI ******************************************************* -->    
    <managed-bean>
        <managed-bean-name>Main_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.Main</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>Current_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.Current</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
    </managed-bean> 
    <managed-bean>
        <managed-bean-name>Article_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ViewArticle</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
        <managed-property>
            <property-name>id</property-name>
            <value>#{param.id}</value>
        </managed-property>        
    </managed-bean>
    <managed-bean>
        <managed-bean-name>ArticlesMaintain_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ArticlesMaintain</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
        <managed-property>
            <property-name>imageService</property-name>
            <value>#{ImageService}</value>
        </managed-property>        
    </managed-bean>  
    <managed-bean>
        <managed-bean-name>ArticleCreate_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ArticleCreate</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
        <managed-property>
            <property-name>personService</property-name>
            <value>#{PersonService}</value>
        </managed-property>  
        <managed-property>
            <property-name>imageService</property-name>
            <value>#{ImageService}</value>
        </managed-property>              
    </managed-bean>      
    <managed-bean>
        <managed-bean-name>ArticleImagesUpdate_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ArticleImagesUpdate</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
        <managed-property>
            <property-name>personService</property-name>
            <value>#{PersonService}</value>
        </managed-property>  
        <managed-property>
            <property-name>imageService</property-name>
            <value>#{ImageService}</value>
        </managed-property>         
    </managed-bean>     
    <managed-bean>
        <managed-bean-name>ArticleUpdate_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ArticleUpdate</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
    </managed-bean>     
    <managed-bean>
        <managed-bean-name>ArticleMasterUpdate_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.ArticleMasterUpdate</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>articleService</property-name>
            <value>#{ArticleService}</value>
        </managed-property>
        <managed-property>
            <property-name>imageService</property-name>
            <value>#{ImageService}</value>
        </managed-property>        
    </managed-bean>   
    <managed-bean>
        <managed-bean-name>EventsMaintain_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.EventsMaintain</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
    </managed-bean>   
    <managed-bean>
        <managed-bean-name>BeginnerCourseCreate_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.BeginnerCourseCreate</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
        <managed-property>
            <property-name>personService</property-name>
            <value>#{PersonService}</value>
        </managed-property>        
    </managed-bean>    
    <managed-bean>
        <managed-bean-name>SignUpWinter_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.SignUpWinter</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
        <managed-property>
            <property-name>personService</property-name>
            <value>#{PersonService}</value>
        </managed-property>      
        <managed-property>
            <property-name>participationService</property-name>
            <value>#{ParticipationService}</value>
        </managed-property> 
    </managed-bean>  
    <managed-bean>
        <managed-bean-name>SignUpSummer_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.SignUpSummer</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
        <managed-property>
            <property-name>personService</property-name>
            <value>#{PersonService}</value>
        </managed-property>      
        <managed-property>
            <property-name>participationService</property-name>
            <value>#{ParticipationService}</value>
        </managed-property> 
    </managed-bean>      
    <managed-bean>
        <managed-bean-name>SignUpConfirmed_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.SignUpConfirmed</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>  
        <managed-property>
            <property-name>id</property-name>
            <value>#{param.id}</value>
        </managed-property>          
    </managed-bean>     
    <managed-bean>
        <managed-bean-name>CoursesWinter_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.CoursesWinter</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
    </managed-bean>    
    <managed-bean>
        <managed-bean-name>CoursesSummer_Backing</managed-bean-name>
        <managed-bean-class>ksno.ui.jsf.backing.CoursesSummer</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
        <managed-property>
            <property-name>eventService</property-name>
            <value>#{EventService}</value>
        </managed-property>
    </managed-bean>      
    <!-- ******** Navigation ******************************************************* -->   
 
    <navigation-rule>
        <from-view-id>/secureA/AdminMain.jsp</from-view-id>
        <navigation-case>
            <from-outcome>articlesMaintain</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>            
        <navigation-case>
            <from-outcome>coursesMaintain</from-outcome>
            <to-view-id>/secureD/EventsMaintain.jsp</to-view-id>
        </navigation-case>       
        
    </navigation-rule> 
    <navigation-rule>
        <from-view-id>/secureD/CourseCreate.jsp</from-view-id>
        <navigation-case>
            <from-action>#{BeginnerCourseCreate_Backing.createCourse}</from-action>            
            <from-outcome>eventsMaintain</from-outcome>
            <to-view-id>/secureD/EventsMaintain.jsp</to-view-id>
        </navigation-case>  
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/secureD/EventsMaintain.jsp</to-view-id>
        </navigation-case>         
    </navigation-rule>    
    <navigation-rule>
        <from-view-id>/secureD/EventsMaintain.jsp</from-view-id>
        <navigation-case>
            <from-outcome>courseCreate</from-outcome>
            <to-view-id>/secureD/CourseCreate.jsp</to-view-id>
        </navigation-case>
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/secureA/AdminMain.jsp</to-view-id>
        </navigation-case>         
    </navigation-rule>     
    <navigation-rule>
        <from-view-id>/secureA/ArticlesMaintain.jsp</from-view-id>
        <navigation-case>
            <from-outcome>articleCreate</from-outcome>
            <to-view-id>/secureA/ArticleCreate.jsp</to-view-id>
        </navigation-case>    
        <navigation-case>
            <from-action>#{ArticlesMaintain_Backing.selectEditArticle}</from-action>
            <from-outcome>articleMasterUpdate</from-outcome>
            <to-view-id>/secureA/ArticleMasterUpdate.jsp</to-view-id>
        </navigation-case> 
        <navigation-case>
            <from-outcome>cancel</from-outcome>
            <to-view-id>/secureA/AdminMain.jsp</to-view-id>
        </navigation-case>        
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/secureA/ArticleMasterUpdate.jsp</from-view-id>
        <navigation-case>
            <from-action>#{ArticleMasterUpdate_Backing.updateArticle}</from-action>
            <from-outcome>articleUpd</from-outcome>
            <to-view-id>/secureA/ArticleUpdate.jsp</to-view-id>
        </navigation-case>    
        <navigation-case>
            <from-action>#{ArticleMasterUpdate_Backing.updateIntro}</from-action>
            <from-outcome>success</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case> 
        <navigation-case>
            <from-outcome>Cancel</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>           
    </navigation-rule>
    <navigation-rule>
        <from-view-id>/secureA/ArticleCreate.jsp</from-view-id>
        <navigation-case>
            <from-action>#{ArticleCreate_Backing.createArticle}</from-action>                        
            <from-outcome>success</from-outcome>
            <to-view-id>/secureA/ArticleImagesUpdate.jsp</to-view-id>
        </navigation-case>            
        <navigation-case>
            <from-action>#{ArticleCreate_Backing.createIntro}</from-action>            
            <from-outcome>success</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>    
        <navigation-case>
            <from-outcome>Cancel</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>            
    </navigation-rule>    
    <navigation-rule>
        <from-view-id>/secureA/ArticleImagesUpdate.jsp</from-view-id>
        <navigation-case>
            <from-action>#{ArticleImagesUpdate_Backing.cancel}</from-action>                                    
            <from-outcome>cancel</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>        
        <navigation-case>
            <from-action>#{ArticleImagesUpdate_Backing.saveArticle}</from-action>                        
            <from-outcome>articleUpdate</from-outcome>
            <to-view-id>/secureA/ArticleUpdate.jsp</to-view-id>
        </navigation-case>            
        <navigation-case>
            <from-action>#{ArticleImagesUpdate_Backing.uploadImages}</from-action>                        
            <from-outcome>articleUpdate</from-outcome>
            <to-view-id>/secureA/ArticleUpdate.jsp</to-view-id>
        </navigation-case>                    
    </navigation-rule>    
    <navigation-rule>
        <from-view-id>/secureA/ArticleUpdate.jsp</from-view-id>
        <navigation-case>
            <from-action>#{ArticleUpdate_Backing.goToArticleImagesUpdate}</from-action>               
            <from-outcome>articleImagesUpdate</from-outcome>
            <to-view-id>/secureA/ArticleImagesUpdate.jsp</to-view-id>
        </navigation-case>            
        <navigation-case>
            <from-action>#{ArticleUpdate_Backing.goToArticleMasterUpdate}</from-action>             
            <from-outcome>articleMasterUpdate</from-outcome>
            <to-view-id>/secureA/ArticleMasterUpdate.jsp</to-view-id>
        </navigation-case>            
        <navigation-case>
            <from-action>#{ArticleUpdate_Backing.saveArticle}</from-action>                                    
            <from-outcome>articlesMaintain</from-outcome>
            <to-view-id>/secureA/ArticlesMaintain.jsp</to-view-id>
        </navigation-case>            
    </navigation-rule> 
    <navigation-rule>
        <from-view-id>/SignUpWinter.jsp</from-view-id>
        <navigation-case>
            <from-action>#{SignUpWinter_Backing.signOn}</from-action>               
            <from-outcome>SignUpConfirmed</from-outcome>
            <to-view-id>/signUpConfirmed.jsp</to-view-id>
        </navigation-case>            
    </navigation-rule> 
    <navigation-rule>
        <from-view-id>/SignUpSummer.jsp</from-view-id>
        <navigation-case>
            <from-action>#{SignUpSummer_Backing.signOn}</from-action>               
            <from-outcome>SignUpConfirmed</from-outcome>
            <to-view-id>/signUpConfirmed.jsp</to-view-id>
        </navigation-case>            
    </navigation-rule>     
    <managed-bean>
        <managed-bean-name>SessionBean1</managed-bean-name>
        <managed-bean-class>ksno3.SessionBean1</managed-bean-class>
        <managed-bean-scope>session</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>ApplicationBean1</managed-bean-name>
        <managed-bean-class>ksno3.ApplicationBean1</managed-bean-class>
        <managed-bean-scope>application</managed-bean-scope>
    </managed-bean>
    <managed-bean>
        <managed-bean-name>RequestBean1</managed-bean-name>
        <managed-bean-class>ksno3.RequestBean1</managed-bean-class>
        <managed-bean-scope>request</managed-bean-scope>
    </managed-bean>
</faces-config>
